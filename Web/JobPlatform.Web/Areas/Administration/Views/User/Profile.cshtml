@model JobPlatform.Web.ViewModels.Administration.Users.UserViewModel
@{
    ViewData["Title"] = "Profile";
}

<h3>@this.ViewData["Title"] @Model.Email</h3>

@if (this.TempData["InfoMessage"] != null)
{
    <div class="alert alert-success">
        @this.TempData["InfoMessage"]
    </div>
}

<div class="row">
    <div class="col-md-8 col-sm-12 col-xs-12">
        <p>
            Email: @Model.Email
            @if (Model.Role != "")
            {
                <br />
                <span>Role: @Model.Role</span>
            }
            @if (Model.FirstName != null)
            {
                <br />
                <span>First name: @Model.FirstName</span>
            }
            @if (Model.LastName != null)
            {
                <br />
                <span>Last name: @Model.LastName</span>
            }
            @if (Model.PhoneNumber != null)
            {
                <br />
                <span>Phone number: @Model.PhoneNumber</span>
            }
            @if (Model.Employer != null)
            {
                <br />
                <span>Company: @Model.Employer.Name</span>
            }
            <br />
        </p>
        <a class="btn btn-primary" asp-area="Administration" asp-controller="User" asp-action="EditUser" asp-route-userId="@Model.UserId">Edit profile</a>
        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#dialogBox">Delete profile</button>
        @*<a class="btn btn-danger" asp-area="Administration" asp-controller="User" asp-action="DeleteUser" asp-route-userId="@Model.UserId"></a>*@
    </div>
</div>

<div class="modal fade" id="dialogBox" tabindex="-1" role="dialog" aria-labelledby="dialogBoxTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h7 class="modal-title" id="dialogBoxLongTitle">Are you sure to delete this user?</h7>
                <button type="button" class="close" data-dismiss="modal" aria-label="Cancel">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h5 class="text-danger">"@Model.Email"</h5>
                <form asp-area="Administration" asp-controller="User" asp-action="DeleteUser" asp-route-userId="@Model.UserId">
                    <button type="button" class="btn btn-secondary align-left" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-danger">Delete</button>
                </form>
            </div>
        </div>
    </div>
</div>